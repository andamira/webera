# webera

[![version: 0.1.X](https://img.shields.io/badge/version-0.1.X-d8ad4c.svg?style=flat-square)](#status)
[![language: bash](https://img.shields.io/badge/language-bash-447799.svg?style=flat-square)](https://github.com/andamira/webera/wiki/FAQ#why-bash-and-not-other_language--)
[![Build Status](https://img.shields.io/travis/andamira/webera/master.svg)](https://travis-ci.org/andamira/webera)
[![Code Climate](https://img.shields.io/codeclimate/github/andamira/webera.svg)](https://codeclimate.com/github/andamira/webera)

---

## Table of Contents

- [Introduction](#introduction-)
- [Use Cases](#use-cases-)
- [Quick Start](#quick-start-)
  - [Examples](#examples-)
- [Documentation](#documentation-)
  - [Config](#config-)
  - [Running](#running-)
- [Install](#install-)
- [Status](#status-)

## Introduction [↑](#table-of-contents "Back to TOC")

webera is a shell script for the generation of static websites.

- A configurable system for processing content templates and
  static resources, allowing custom commands and workflows.
- Content template directives allowing nesting templates,
  setting variables, displaying the output of commands...
- Includes a versatile logging system.
- Supports automatic preview.


## Use Cases [↑](#table-of-contents "Back to TOC")

If you want:

* absolute control of the generated HTML.
* to be able to run it anywhere there is Bash.
* to use a very configurable CLI tool, with minimal footprint.
* to have a very versatile tool in a single file that you can understand.


## Quick Start [↑](#table-of-contents "Back to TOC")

Download webera and make it executable: (see also [Install](#install-))

```
$ wget git.io/webera && chmod +x webera
```

Create a directory called `tem/` and put there your HTML templates,
then configure the corresponding routes in the config file.

> E.g. This will process the templates from `tem/*` to `out/*/index.html`:

```
template : route : my-index.html   : /
template : route : other-page.html : /other-url/
```

Put your styles under `res/css/` and configure how
it will be processed (the simplest operation is to copy them):

> E.g. This will copy the directory `res/css/` to `out/css/`:

```
resource : copy : css/ : css/
```

Finally generate the website by telling the script
to process all the configured templates and resources.

```sh
$ ./webera --process-all
```

The website is generated by default in the `out/` directory:

```sh
$ find out/

  out/
  out/index.html
  out/other-url/index.html
  out/res/css/style.css
```

### Examples [↑](#table-of-contents "Back to TOC")

There are several examples:

- The source code is in the [examples/](https://github.com/andamira/webera/tree/master/examples) directory.
- The generated output is in the [docs/examples](https://github.com/andamira/webera/tree/master/docs/examples) directory.
- The result is rendered in [andamira.github.io/webera/examples](https://andamira.github.io/webera/examples/).


## Documentation [↑](#table-of-contents "Back to TOC")

[The wiki](https://github.com/andamira/webera/wiki) is the documentation reference.


### Config [↑](#table-of-contents "Back to TOC")

The following configuration snippet shows you how to set options, define custom
commands, process the resources and the templates, and route them:


```sh
# Customized Options
config : WEB_BROWSER_BIN : chromium-browser
config : DIR_OUTPUT      : /home/$USER/my-website

# Define Custom Commands
command : sass2css : sass {ORIGIN} {TARGET}

# Process Resources
resource : sass2css : scss/styles.scss : css/main.css

# Process Templates to URL Endpoints
template : route : index.html     : /
template : route : about.html     : /about/
template : route : about-me.html  : /about/me/
template : route : about-you.html : /about/you.html
```

See [`.weberarc`](https://github.com/andamira/webera/blob/master/.weberarc) and
the [Configuration](https://github.com/andamira/webera/wiki/Configuration) wiki page,
for more information about the configuration possibilities.


### Running [↑](#table-of-contents "Back to TOC")

There are several flags that allows you to control the scripts behaviour in
the moment, complementing a more stable configuration.
See the wiki page for the
[order of priority](https://github.com/andamira/webera/wiki/Configuration#order-of-priority-)
of all the configuration sources.

You can run `./webera --help` to see the basic help on flags, see some
[usage examples](https://github.com/andamira/webera/wiki/Script-Arguments#usage-examples-),
or take a deeper look to the complete
[list of flags](https://github.com/andamira/webera/wiki/Script-Arguments#list-of-flags-)
in the wiki.


## Install [↑](#table-of-contents "Back to TOC")

**Manually**

You can use either `wget` or `curl -LO` to download the script,
and then make it executable:

```sh
$ wget git.io/webera && chmod +x webera
```

To install it globally:

```sh
$ sudo sh -c "wget git.io/webera -O /usr/local/bin/webera && chmod +x /usr/local/bin/webera"
```

**In Mac OS X**

In order to work well in Mac OS X you need a more recent version of Bash
than the one that comes by default, and also the GNU version of coreutils,
sed, grep and awk. An easy way to install them is using [Brew](http://brew.sh/):

```
$ brew tap homebrew/dupes
$ brew install bash coreutils gnu-sed grep gawk
```

## Status [↑](#table-of-contents "Back to TOC")

This project is considered experimental, and it is not yet stable.
